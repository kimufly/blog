<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Web系统安全开发指导笔记 | Kimmg Fly</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=undefined"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Web系统安全开发指导笔记</h1><a id="logo" href="/.">Kimmg Fly</a><p class="description">欢迎来到Roy Lin的世界</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Web系统安全开发指导笔记</h1><div class="post-meta">Sep 8, 2015<span> | </span><span class="category"><a href="/categories/Development/">Development</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="post-content"><h2 id="1-SQL-注入"><a href="#1-SQL-注入" class="headerlink" title="1.SQL 注入"></a>1.SQL 注入</h2><p>1）前端过滤<br>2）使用PreparedStatement 并且禁止sql拼接<br>3）使用MyBatis框架<br>4）web工程使用filter过滤去。防止sql关键词出现在request中<br>5）sql错误信息不回传到前台，防止利用错误窥探数据库结构<br>6）限制数据库用户权限，尤其是系统表权限。<br>7）未来开发nginx插件，从web服务器防范sql注入</p>
<h2 id="2-XSS-CSRF-——跨站脚本-跨站脚本伪造"><a href="#2-XSS-CSRF-——跨站脚本-跨站脚本伪造" class="headerlink" title="2.XSS/CSRF ——跨站脚本/跨站脚本伪造"></a>2.XSS/CSRF ——跨站脚本/跨站脚本伪造</h2><p>1）编码<br>2）过滤<br>3）设置httponly，防止cookie被盗取<br>4）生成Form同时生成token ，提交时校验token<br>5）重要操作加入验证码<br>6）检查referer，每个工程除了对外页面，其他全部来自主页</p>
<h2 id="3-session管理"><a href="#3-session管理" class="headerlink" title="3.session管理"></a>3.session管理</h2><p>1）禁止同一用户名，多个地点同时登录<br>2）登录后要执行session.invalidate()语句，改变sessionID。</p>
<h2 id="4-权限管理"><a href="#4-权限管理" class="headerlink" title="4.权限管理"></a>4.权限管理</h2><p>1）对外接口一般有MD5防范，但是否做到密钥位数足够长，开发环境和生产环<br>境密钥不相同，定期更换密钥。加强对外接口的安全规范执行，建立上线<br>审核机制。<br>2）工程内的Json接口，未有统一标准，出现过安全事件。resetful接口全部<br>进行筛查，没有MD5、存在信息泄漏的立马改正。<br>3）开发安全插件，对于Get请求，开发“密码信封”，所有参数变为密文，让黑<br>客不能更改，对于Post请求，开发“安全令牌”，令黑客不能通过Http参数提交post。<br>4）设计敏感信息的接口筛查，看是否验证了“本用户本机构”，防止越权查询。</p>
<h2 id="5-文件上传和下载"><a href="#5-文件上传和下载" class="headerlink" title="5.文件上传和下载"></a>5.文件上传和下载</h2><p>1）服务端务必检查上传文件的合法性，例如规定的文件是excel，就必须验证<br>下是不是，上传规定是图片，就要java里面读取图形文件的api验证下，文件类型不合适就即刻删除。<br>2）服务器储存文件的路径，禁止暴露给客户端。<br>3）服务器端检查是否存储路径和设定上的是否一致，不一致不存储。<br>4）服务器端检查上传文件的路径，是否带有./../等字符<br>5）服务器端上传后文件名进行统一命名，不使用原文件名<br>1）对下载路径进行加密处理。<br>2）下载路径符合规范，不存在./../</p>
<h2 id="6-不安全的配置"><a href="#6-不安全的配置" class="headerlink" title="6.不安全的配置"></a>6.不安全的配置</h2><p>1）管理后台不应该暴露在公网<br>2）对外的站点不应该存在接口</p>
<h2 id="7-不安全的传输"><a href="#7-不安全的传输" class="headerlink" title="7.不安全的传输"></a>7.不安全的传输</h2><p>1）尽量不传输敏感信息<br>2）尽量用post替代get<br>3）使用https</p>
<h2 id="8-信息泄漏"><a href="#8-信息泄漏" class="headerlink" title="8.信息泄漏"></a>8.信息泄漏</h2><p>1）数据库的链接地址用源的机制<br>2）tomcat7用context.xml配置数据元，连接信息进行加密处理<br>3）防范泄漏服务器系统信息<br>4）war包盒nginx服务器配置错误页面指向。<br>5）应用程序需要捕获异常，不把原始异常信息传给前台页面。重点检查JDBC连接数据库，接口程序。<br>6）程序全部使用ant脚本打包，不能存在properties文件，xml文件<br>7）JSP中不允许使用 注释。</p>
<h2 id="9-暴力破解"><a href="#9-暴力破解" class="headerlink" title="9.暴力破解"></a>9.暴力破解</h2><p>1) 减少简单密码的使用。<br>2）定期更换密码</p>
</div><script type="text/javascript" src="/js/share.js?v=undefined" async></script><a data-url="http://kimmg.com/2015/09/08/Web系统安全开发指导笔记/" data-id="cj3b7shjf0003mzerafzvq9wo" class="article-share-link">分享</a><div class="tags"><a href="/tags/Development/">Development</a><a href="/tags/web/">web</a></div><div class="post-nav"><a href="/2016/04/05/Ransack的模糊匹配条件/" class="pre">Ransack的模糊匹配条件</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://kimmg.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Development/">Development</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Development/" style="font-size: 15px;">Development</a> <a href="/tags/web/" style="font-size: 15px;">web</a> <a href="/tags/随笔/" style="font-size: 15px;">随笔</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/05/24/又来折腾Hexo/">又来折腾Hexo</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/05/Ransack的模糊匹配条件/">Ransack的模糊匹配条件</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/09/08/Web系统安全开发指导笔记/">Web系统安全开发指导笔记</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.lellansin.com/" title="lellansin" target="_blank">lellansin</a><ul></ul><a href="http://matrixbirds.github.io/" title="matrixbirds" target="_blank">matrixbirds</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="mailto:kimufly@ive.com" rel="nofollow">Kimmg Fly.</a> 京ICP备15045804</div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=undefined" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=undefined" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=undefined"></script><script type="text/javascript" src="/js/smartresize.js?v=undefined"></script></div></body></html>